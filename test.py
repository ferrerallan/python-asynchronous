Prompt: Write a python function that implements a calculator capable of handling operations like addition(+), subtraction(-), multiplication(*), and division(/), the function should evaluate a given mathematical expression string by following these instructions, operator precedence and should allow parentheses to group expressions, the function must evaluate the expression recursively, where each part of the expression is broken down into smaller sub-expressions, don't use any built-in evaluation functions, the function must handle and process the string in one pass without converting the string into lists or using additional data structures, empty string should return empty output, string with only numbers to return the number as it is, misplaced operators or misplaced parentheses should raise an error